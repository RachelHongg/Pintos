# Introduction

- Introduction
    - x86-64 아키텍처를 위한 간단한 운영 체제 프레임워크
    - Pintos(이제부터 pintos 대신 Pintos를 사용할 것입니다)는 커널 스레드, 사용자 프로그램의 로딩과 실행, 그리고 파일 시스템을 지원하지만, 이들을 매우 간단한 방식으로 구현했습니다.또한 가상 메모리 구현을 추가할 것입니다.
    
- Getting start
    - 각 파일에 대한 설명
        - threads/: 프로젝트 1부터 수정할 기본 커널의 소스 코드입니다.
        - userprog/: 프로젝트 2부터 수정할 사용자 프로그램 로더의 소스 코드입니다.
        - vm/: 거의 비어 있는 디렉토리입니다. 여기서 프로젝트 3에서 가상 메모리를 구현할 것입니다.
        - filesys/: 기본 파일 시스템의 소스 코드입니다. 프로젝트 2부터 사용하지만 프로젝트 4까지는 수정하지 않을 것입니다.
        - devices/: I/O 장치 인터페이싱을 위한 소스 코드입니다: 키보드, 타이머, 디스크 등. 프로젝트 1에서 타이머 구현을 수정할 것입니다. 그 외에는 이 코드를 변경할 필요가 없을 것입니다.
        - lib/: 표준 C 라이브러리의 일부를 구현한 것입니다. 이 디렉토리의 코드는 Pintos 커널과 프로젝트 2부터는 커널 하에서 실행되는 사용자 프로그램에 모두 컴파일됩니다. 이 코드를 수정할 필요가 거의 없을 것입니다.
        - include/lib/kernel/: Pintos 커널에서만 포함되는 C 라이브러리의 일부입니다. 커널에서는 이 디렉토리의 헤더를 #include <...> 표기법을 사용하여 포함할 수 있습니다. 여러분은 커널 코드에서 자유롭게 사용할 수 있는 데이터 유형들의 구현도 여기에 포함됩니다: 비트맵, 이중 연결 리스트, 해시 테이블 등.
        - include/lib/user/: Pintos 사용자 프로그램에서만 포함되는 C 라이브러리의 일부입니다. 사용자 프로그램에서는 이 디렉토리의 헤더를 #include <...> 표기법을 사용하여 포함할 수 있습니다.
        - tests/: 각 프로젝트를 위한 테스트입니다. 여러분의 제출물을 테스트하는 데 도움이 되는 경우 이 코드를 수정할 수 있지만, 우리는 테스트를 실행하기 전에 원본으로 바꿀 것입니다.
        - examples/: 프로젝트 2부터 사용할 예제 사용자 프로그램입니다.
        - include/: 헤더 파일 (*.h)의 소스 코드입니다.
    - 빌드하기
        
        다음 단계로 첫 번째 프로젝트용으로 제공된 소스 코드를 빌드하세요. 먼저 threads 디렉토리로 이동한 다음, make 명령어를 실행하세요. 이 명령은 threads 디렉토리 아래에 build 디렉토리를 생성하고, Makefile과 몇 개의 하위 디렉토리를 생성한 후 커널을 빌드합니다.
        
        빌드가 완료되면 build 디렉토리에는 다음과 같이 흥미로운 파일들이 있습니다:
        
        - Makefile: pintos/src/Makefile.build의 사본입니다. 커널을 빌드하는 방법을 설명합니다.
        - kernel.o: 전체 커널을 위한 객체 파일입니다. 이는 각 커널 소스 파일에서 컴파일된 개별 객체 파일을 하나의 객체 파일로 링크한 결과물입니다. 디버그 정보를 포함하고 있어 GDB (GDB 참조)나 backtrace (백트레이스)를 실행할 수 있습니다.
        - kernel.bin: 커널의 메모리 이미지입니다. 즉, Pintos 커널을 실행하기 위해 메모리에 로드되는 정확한 바이트입니다. 이는 디버그 정보가 제거된 kernel.o와 동일합니다. 이로써 많은 공간을 절약하고 커널이 커널 로더의 디자인으로 인해 설정된 512KB 크기 제한에 부딪히는 것을 막습니다.
        - loader.bin: 커널 로더를 위한 메모리 이미지입니다. 어셈블리 언어로 작성된 작은 코드 청크로, 디스크에서 커널을 읽어 메모리에 로드하고 시작합니다. 이는 PC BIOS에 의해 설정된 512바이트 길이와 정확히 일치합니다. build의 하위 디렉토리에는 컴파일러에 의해 생성된 객체 파일 (.o)과 종속성 파일 (.d)이 포함되어 있습니다. 종속성 파일은 다른 소스 또는 헤더 파일이 변경될 때 다시 컴파일해야 할 소스 파일을 make에 알려줍니다.
    - pintOS 실행하기
        
        Pintos를 시뮬레이터에서 편리하게 실행할 수 있는 프로그램인 pintos를 제공했습니다. 가장 간단한 경우에는 pintos를 pintos argument...으로 호출할 수 있습니다. 각 인수는 Pintos 커널에 전달되어 실행됩니다. 한 번 시도해보세요. 먼저 새로 생성된 build 디렉토리로 이동하세요. 그런 다음 Pintos 커널에 인수 run alarm-multiple을 전달하는 명령인 pintos run alarm-multiple을 실행하세요. 여기서 run은 커널에 테스트를 실행하도록 지시하고, alarm-multiple은 실행할 테스트입니다. Pintos가 부팅되고 alarm-multiple 테스트 프로그램이 실행되어 몇 가지 화면을 채우는 텍스트가 출력됩니다.
        
        명령 줄에서 직렬 출력을 파일로 로깅하려면 예를 들어 pintos -- run alarm-multiple > logfile와 같이 리다이렉션할 수 있습니다. pintos 프로그램은 qemu나 가상 하드웨어를 구성하는 데 사용할 수 있는 여러 옵션을 제공합니다. 옵션을 지정하면 해당 옵션들은 Pintos 커널에 전달되는 명령 앞에 와야 하며 --로 분리되어야 합니다. 즉, 전체 명령이 pintos option... -- argument...와 같아야 합니다. 아무 인수 없이 pintos를 호출하여 사용 가능한 옵션 목록을 볼 수 있습니다. 옵션에는 다음이 포함됩니다: VM 출력을 어떻게 표시할지 지정하는 방법: -v를 사용하여 VGA 표시를 끄거나, -s를 사용하여 표준 입력(stdin)에서의 직렬 입력을 억제하고 표준 출력(stdout)으로 출력할 수 있습니다. Pintos 커널에는 run 이외에도 명령과 옵션이 있습니다. 현재로서는 그다지 흥미로운 것은 아니지만, -h를 사용하여 그 목록을 볼 수 있습니다. 예: pintos -h.
        
        - VGA란? 화면 해상도, 색상 수, 주파수 등을 지원하는 표준적인 그래픽 디스플레이 시스템/ 그러나 Pintos에서는 가상 머신의 출력을 제어하기 위해 이러한 VGA 디스플레이를 끄는 옵션(-v)을 제공
        - 직렬입력(stdin): "직렬 입력(stdin)"은 컴퓨터에서 데이터를 시간 순서대로 한 비트씩 연속적으로 받는 것을 의미
- Grading
    - Test
        - 전체 테스트: 당신의 제출물을 완전히 테스트하려면 해당 프로젝트 빌드 디렉토리에서 make check를 호출하세요. 이 명령은 각 테스트를 빌드하고 실행하며 각 테스트에 대해 통과 또는 실패 메시지를 출력합니다. 테스트가 실패하면 make check는 실패 이유에 대한 세부 정보도 출력합니다. 모든 테스트를 실행한 후, make check는 테스트 결과에 대한 요약도 출력합니다.
        - 개별 테스트: 하나씩 개별 테스트를 실행할 수도 있습니다. 특정 테스트 t는 그 결과를 t.output에 작성한 다음, 스크립트가 해당 결과를 판단하여 t.result에 패스 또는 실패 결과를 작성합니다. 개별 테스트를 실행하고 점수를 매기려면 빌드 디렉토리에서 명시적으로 .result 파일을 만들어야 합니다. 예를 들어 make tests/threads/alarm-multiple.result와 같이 실행합니다. make가 테스트 결과가 최신 상태라고 말하지만 그래도 다시 실행하려면 make clean을 실행하거나 .output 파일을 수동으로 삭제하세요.
        - 각 테스트의 진행상황 관찰: make 명령 라인에 VERBOSE=1을 지정하여 각 테스트의 진행 상황을 관찰할 수 있다.
    - Submission
        - threads, userprog, vm, filesys 디렉토리가 있는 pintos 프로젝트 루트 디렉토리로 이동하세요. TEAM=당신의_팀_번호 make archive(예: TEAM=5 make archive)라고 입력하세요. 그러면 동일한 디렉토리에 team5.tar.gz 파일이 생성됩니다. 아카이브 파일을 제출하세요.
